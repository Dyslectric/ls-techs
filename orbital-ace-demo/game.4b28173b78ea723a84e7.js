!function(){"use strict";var e,t={57868:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.game_consts=void 0,t.game_consts={default_scale:2,max_velocity:400,bg_1_parallax:32,bg_2_parallax:16,bg_3_parallax:8,max_pixel_width:1280}},29820:function(e,t,a){a(11307);const r=a(58687),n=a(14588),o=a(6906),i=a(57868),s=new r.Application;window.onload=async()=>{await s.init({backgroundColor:13882323,width:window.innerWidth,height:window.innerHeight}),r.TextureStyle.defaultOptions.scaleMode="nearest",await Promise.all([r.Assets.load("assets/player.png"),r.Assets.load("assets/bg_0.png"),r.Assets.load("assets/bg_1.png"),r.Assets.load("assets/bg_2.png"),r.Assets.load("assets/bg_3.png")]),document.body.appendChild(s.canvas),function(){const e=()=>{s.renderer.resize(window.innerWidth,window.innerHeight)};e(),window.addEventListener("resize",e)}(),new l};class l{state;constructor(){this.state={player:{x:0,y:0,thruster_on:!1,brake_on:!1,turning_left:!1,turning_right:!1,velocity:0,direction:0},game_width:(0,o.get_game_width)(),game_height:(0,o.get_game_height)(),game_scale:(0,o.get_game_scale)(),hotbar_selection:0},document.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":case"w":this.state.player.thruster_on=!0,e.preventDefault();break;case"ArrowDown":case"s":this.state.player.brake_on=!0,e.preventDefault();break;case"ArrowLeft":case"a":this.state.player.turning_left=!0,e.preventDefault();break;case"ArrowRight":case"d":this.state.player.turning_right=!0,e.preventDefault()}})),document.addEventListener("keyup",(e=>{switch(e.key){case"ArrowUp":case"w":this.state.player.thruster_on=!1,e.preventDefault();break;case"ArrowDown":case"s":this.state.player.brake_on=!1,e.preventDefault();break;case"ArrowLeft":case"a":this.state.player.turning_left=!1,e.preventDefault();break;case"ArrowRight":case"d":this.state.player.turning_right=!1,e.preventDefault()}})),document.addEventListener("wheel",(e=>{e.deltaY>0&&this.state.hotbar_selection<9?this.state.hotbar_selection++:this.state.hotbar_selection>0&&this.state.hotbar_selection--})),document.addEventListener("keypress",(e=>{switch(e.key){case"1":this.state.hotbar_selection=0;break;case"2":this.state.hotbar_selection=1;break;case"3":this.state.hotbar_selection=2;break;case"4":this.state.hotbar_selection=3;break;case"5":this.state.hotbar_selection=4;break;case"6":this.state.hotbar_selection=5;break;case"7":this.state.hotbar_selection=6;break;case"8":this.state.hotbar_selection=7;break;case"9":this.state.hotbar_selection=8;break;case"0":this.state.hotbar_selection=9}})),this.run()}update_physics(){const e=this.state.player;e.brake_on&&e.velocity>0?e.velocity--:e.thruster_on&&e.velocity<i.game_consts.max_velocity&&e.velocity++,e.turning_right&&!e.turning_left?e.direction-=.05:e.turning_left&&!e.turning_right&&(e.direction+=.05),e.x+=Math.cos(e.direction)*e.velocity*.3,e.y+=Math.sin(-e.direction)*e.velocity*.3}update(){this.update_physics()}async run(){const e=(0,n.SpaceViewRenderer)(s.renderer,s.stage,this.state);let t=performance.now();for(;;){const a=new Promise((e=>setTimeout(e,6)));this.update(),e.render(this.state);const r=performance.now();console.log("Frametime: ",r-t),t=r,await a}}}},14588:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceViewRenderer=void 0;const r=a(57994);t.SpaceViewRenderer=(e,t,a)=>{const n=(0,r.SpaceView)(e,a);t.addChild(n.container);return{render:e=>{n.update(e)},destroy:()=>{n.container.destroy({children:!0})}}}},29161:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundBlur=void 0;const r=a(58687),n=a(6906);t.BackgroundBlur=(e,t,a)=>{const o=new r.Sprite(e.generateTexture({target:t,width:(0,n.get_game_width)(),height:(0,n.get_game_height)()}));o.mask=a,o.filters=new r.BlurFilter;return{container:o,update:()=>{o.texture.source.destroy(),o.texture=e.generateTexture(t)}}}},72412:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.MaskFilter=void 0;const r=a(58687);t.MaskFilter=(e,t,a,n)=>{const o=new r.Sprite({texture:e.generateTexture({target:n,frame:new r.Rectangle(t.x,t.y,t.width,t.height)}),x:t.x,y:t.y});o.filters=a;return{container:o,update:()=>{o.texture.source.destroy(),o.texture=e.generateTexture({target:n,frame:new r.Rectangle(t.x,t.y,t.width,t.height)}),o.x=t.x,o.y=t.y}}}},47695:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Scaler=void 0;const r=a(58687);t.Scaler=(e,t)=>{const a=new r.Container({scale:e,children:t});return{container:a,update:e=>{a.scale.set(e)}}}},57994:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceView=void 0;const r=a(58687),n=a(6906),o=a(47695),i=a(8605),s=a(63862),l=a(30896);t.SpaceView=(e,t)=>{const a=(0,n.get_game_width)(),c=(0,n.get_game_height)(),h=(0,n.get_game_scale)(),d=(0,i.WorldLayer)(e,a,c,t),g=(0,s.Ui)(e,d.container),u=new l.PixelateFilter(h),p=(0,o.Scaler)((0,n.get_game_scale)(),[d.container,g.container]);p.container.filters=u;return{container:new r.Container({children:[p.container]}),update:e=>{const t=(0,n.get_game_scale)();d.update(e),g.update(e),p.update(t),u.size=t}}}},22670:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Compass=void 0;const r=a(58687),n=a(6906),o=a(30896);t.Compass=(e,t,a,i,s,l)=>{const c=i,h=(0,n.get_game_height)()-s-2*a,d=(new r.GraphicsPath).circle(a,a,a),g=(new r.GraphicsPath).circle(a,a,t),u=new r.Graphics({x:c,y:h}).path(d).fill({color:"#fff"}),p=new r.Sprite({texture:e.generateTexture(u),x:c,y:h}),_=new o.ColorGradientFilter({type:1,alpha:.86,replace:!0,stops:[{alpha:1,offset:0,color:"#000"},{alpha:1,offset:.85,color:"#000"},{alpha:0,offset:1,color:"#000"}]}),f=new o.ColorGradientFilter({type:1,alpha:.4,replace:!1,stops:[{alpha:0,offset:0,color:"#fff"},{alpha:0,offset:.9,color:"#fff"},{alpha:1,offset:.95,color:"#fff"},{alpha:1,offset:1,color:"#000"}]}),b=new r.Graphics({x:c,y:h}).path(g).fill({color:l});b.filters=f;const y=new r.Graphics({x:c,y:h}).path(g).fill({color:"#fff"});return{render:b,blurMask:y,shadowMask:p,shadowMaskFilter:_,update:()=>{const e=(0,n.get_game_height)()-s-2*a;p.y=e,b.y=e,y.y=e}}}},33346:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Hotbar=void 0;const r=a(30896),n=a(58687),o=a(6906);t.Hotbar=(e,t,a,i,s,l)=>{const c=(0,o.get_game_width)(),h=(0,o.get_game_height)()-i-e,d=c/2-t/2-4*t-5*e,g=(new n.GraphicsPath).lineTo(e-a,0).arc(e-a,a,a,1.5*Math.PI,0*Math.PI).lineTo(e,e).lineTo(a,e).arc(a,e-a,a,.5*Math.PI,1*Math.PI).lineTo(0,0),u=new r.ColorGradientFilter({type:1,alpha:.16,replace:!1,stops:[{alpha:1,offset:0,color:"#fff"},{alpha:0,offset:.9,color:"#fff"}]}),p=Array.from({length:10},((a,r)=>{const o=d+r*(e+t),i=new n.Graphics({x:o,y:h}).path(g).fill({color:s});return i.filters=u,i})),_=Array.from({length:10},((a,r)=>{const o=d+r*(e+t);return new n.Graphics({x:o,y:h}).path(g).fill({color:"#fff"})})),f=new n.Container({children:_});return{container:new n.Container({children:p}),blurMask:f,update:a=>{const r=(0,o.get_game_width)(),n=(0,o.get_game_height)()-i-e,c=r/2-t/2-4*t-5*e;p.forEach(((r,o)=>{const i=c+o*(e+t);r.x=i,r.y=n,o==a?r.clear().path(g).fill({color:l}):r.clear().path(g).fill({color:s})})),_.forEach(((a,r)=>{const o=c+r*(e+t);a.x=o,a.y=n}))}}}},47956:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerPanel=void 0;const r=a(58687);t.PlayerPanel=(e,t,a,n,o,i)=>{const s=(new r.GraphicsPath).lineTo(a-o,0).arc(a-o,o,o,1.5*Math.PI,0*Math.PI,!1).lineTo(a,n).lineTo(o,n).arc(o,n-o,o,.5*Math.PI,1*Math.PI,!1).lineTo(0,0).closePath();return{render:new r.Graphics({x:e,y:t}).path(s).fill({color:i}),blurMask:new r.Graphics({x:e,y:t}).path(s).fill({color:"#fff"})}}},63862:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Ui=void 0;const r=a(58687),n=a(47956),o=a(29161),i=a(33346),s=a(22670),l=a(72412);t.Ui=(e,t)=>{const a="#11263198",c=(0,n.PlayerPanel)(20,20,240,50,16,a),h=(0,i.Hotbar)(30,8,12,12,"#111a2180",a),d=(0,s.Compass)(e,64,76,10,10,"#20103148"),g=(0,l.MaskFilter)(e,d.shadowMask,[d.shadowMaskFilter],t),u=new r.Container({children:[c.blurMask,h.blurMask,d.blurMask]}),p=(0,o.BackgroundBlur)(e,t,u);return{container:new r.Container({children:[u,p.container,c.render,h.container,g.container,d.render]}),update:e=>{h.update(e.hotbar_selection),d.update(),p.update(),g.update()}}}},44764:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Background=void 0;const r=a(58687),n=a(57868),o=a(6906);t.Background=(e,t,a,i)=>{const s=(0,o.parallax)(a,i,960,540,n.game_consts.bg_1_parallax),l=(0,o.parallax)(a,i,960,540,n.game_consts.bg_2_parallax),c=(0,o.parallax)(a,i,960,540,n.game_consts.bg_3_parallax),h={bg0:r.Texture.from("assets/bg_0.png"),bg1:r.Texture.from("assets/bg_1.png"),bg2:r.Texture.from("assets/bg_2.png"),bg3:r.Texture.from("assets/bg_3.png")},d={bg0:new r.TilingSprite({texture:h.bg0,width:e,height:t}),bg1:new r.TilingSprite({texture:h.bg1,width:e,height:t,tilePosition:{x:s.x,y:s.y}}),bg2:new r.TilingSprite({texture:h.bg2,width:e,height:t,tilePosition:{x:l.x,y:l.y}}),bg3:new r.TilingSprite({texture:h.bg3,width:e,height:t,tilePosition:{x:c.x,y:c.y}})};return{container:new r.Container({children:[d.bg0,d.bg1,d.bg2,d.bg3]}),update:(e,t,a,r)=>{const i=(0,o.parallax)(a,r,960,540,n.game_consts.bg_1_parallax),s=(0,o.parallax)(a,r,960,540,n.game_consts.bg_2_parallax),l=(0,o.parallax)(a,r,960,540,n.game_consts.bg_3_parallax);d.bg1.tilePosition.x=i.x,d.bg1.tilePosition.y=i.y,d.bg2.tilePosition.x=s.x,d.bg2.tilePosition.y=s.y,d.bg3.tilePosition.x=l.x,d.bg3.tilePosition.y=l.y,d.bg0.width=e,d.bg0.height=t,d.bg1.width=e,d.bg1.height=t,d.bg2.width=e,d.bg2.height=t,d.bg3.width=e,d.bg3.height=t}}}},27159:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;const r=a(58687),n=a(6906);t.Player=(e,t,a)=>{const o=r.Texture.from("assets/player.png"),i=new r.Sprite({texture:o,anchor:.5,x:e/2,y:t/2,rotation:-(a-1.5*Math.PI)});return{container:i,update:e=>{const t=(0,n.get_game_width)(),a=(0,n.get_game_height)();i.rotation=-(e-1.5*Math.PI),i.x=t/2,i.y=a/2}}}},8605:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.WorldLayer=void 0;const r=a(58687),n=a(44764),o=a(27159),i=a(6906);t.WorldLayer=(e,t,a,s)=>{const l=(0,n.Background)(t,a,s.player.x,s.player.y),c=(0,o.Player)(t,a,s.player.direction);return{container:new r.Container({children:[l.container,c.container]}),update:e=>{const t=(0,i.get_game_width)(),a=(0,i.get_game_height)();l.update(t,a,e.player.x,e.player.y),c.update(e.player.direction)}}}},6906:function(e,t,a){Object.defineProperty(t,"__esModule",{value:!0}),t.parallax=t.get_game_scale=t.get_game_height=t.get_game_width=void 0;const r=a(57868);function n(){return window.innerWidth>r.game_consts.max_pixel_width?Math.ceil(window.innerWidth/r.game_consts.max_pixel_width):1}t.get_game_width=function(){return Math.floor(window.innerWidth/n())},t.get_game_height=function(){return Math.floor(window.innerHeight/n())},t.get_game_scale=n,t.parallax=function(e,t,a,r,n){return{x:e/n%a,y:t/n%r}}},11307:function(e,t,a){a.r(t)}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,a,n,o){if(!a){var i=1/0;for(h=0;h<e.length;h++){a=e[h][0],n=e[h][1],o=e[h][2];for(var s=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](a[l])}))?a.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(h--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[a,n,o]},r.d=function(e,t){for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,o,i=a[0],s=a[1],l=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(l)var h=l(r)}for(t&&t(a);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(h)},a=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var n=r.O(void 0,[896],(function(){return r(29820)}));n=r.O(n)}();