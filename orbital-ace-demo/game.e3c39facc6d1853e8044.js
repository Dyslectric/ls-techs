!function(){"use strict";var e,t={57868:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.game_consts=void 0,t.game_consts={default_scale:2,max_velocity:400,bg_1_parallax:32,bg_2_parallax:16,bg_3_parallax:8,max_pixel_width:1280}},29820:function(e,t,r){r(11307);const a=r(58687),n=r(14588),o=r(57868),i=new a.Application;window.onload=async()=>{await i.init({backgroundColor:13882323,width:window.innerWidth,height:window.innerHeight}),a.TextureStyle.defaultOptions.scaleMode="nearest",await Promise.all([a.Assets.load("assets/pointer.png"),a.Assets.load("assets/player.png"),a.Assets.load("assets/bg_0.png"),a.Assets.load("assets/bg_1.png"),a.Assets.load("assets/bg_2.png"),a.Assets.load("assets/bg_3.png")]),i.canvas.id="game-canvas",document.body.appendChild(i.canvas),function(){const e=()=>{i.renderer.resize(window.innerWidth,window.innerHeight)};e(),window.addEventListener("resize",e)}(),new s};class s{state;constructor(){this.state={player:{x:0,y:0,thruster_on:!1,brake_on:!1,turning_left:!1,turning_right:!1,velocity:0,direction:0},mouse_x:0,mouse_y:0,hotbar_selection:0},document.addEventListener("keydown",(e=>{switch(e.key){case"ArrowUp":case"w":this.state.player.thruster_on=!0,e.preventDefault();break;case"ArrowDown":case"s":this.state.player.brake_on=!0,e.preventDefault();break;case"ArrowLeft":case"a":this.state.player.turning_left=!0,e.preventDefault();break;case"ArrowRight":case"d":this.state.player.turning_right=!0,e.preventDefault()}})),document.addEventListener("keyup",(e=>{switch(e.key){case"ArrowUp":case"w":this.state.player.thruster_on=!1,e.preventDefault();break;case"ArrowDown":case"s":this.state.player.brake_on=!1,e.preventDefault();break;case"ArrowLeft":case"a":this.state.player.turning_left=!1,e.preventDefault();break;case"ArrowRight":case"d":this.state.player.turning_right=!1,e.preventDefault()}})),document.addEventListener("wheel",(e=>{e.deltaY>0&&this.state.hotbar_selection<9?this.state.hotbar_selection++:this.state.hotbar_selection>0&&this.state.hotbar_selection--})),document.addEventListener("keypress",(e=>{switch(e.key){case"1":this.state.hotbar_selection=0;break;case"2":this.state.hotbar_selection=1;break;case"3":this.state.hotbar_selection=2;break;case"4":this.state.hotbar_selection=3;break;case"5":this.state.hotbar_selection=4;break;case"6":this.state.hotbar_selection=5;break;case"7":this.state.hotbar_selection=6;break;case"8":this.state.hotbar_selection=7;break;case"9":this.state.hotbar_selection=8;break;case"0":this.state.hotbar_selection=9}})),document.addEventListener("mousemove",(e=>{this.state.mouse_x=e.clientX,this.state.mouse_y=e.clientY})),this.run()}update_physics(){const e=this.state.player;e.brake_on&&e.velocity>0?e.velocity--:e.thruster_on&&e.velocity<o.game_consts.max_velocity&&e.velocity++,e.turning_right&&!e.turning_left?e.direction-=.05:e.turning_left&&!e.turning_right&&(e.direction+=.05),e.x+=Math.cos(e.direction)*e.velocity*.3,e.y+=Math.sin(-e.direction)*e.velocity*.3}update(){this.update_physics()}async run(){const e=(0,n.SpaceViewRenderer)(i.renderer,i.stage,this.state);let t=performance.now();for(;;){const r=new Promise((e=>setTimeout(e,6)));this.update(),e.render(this.state);const a=performance.now();console.log("Frametime: ",a-t),t=a,await r}}}},14588:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceViewRenderer=void 0;const a=r(57994);t.SpaceViewRenderer=(e,t,r)=>{const n=(0,a.SpaceView)(e,r);t.addChild(n.container);return{render:e=>{const t=document.getElementById("game-canvas");t&&(console.log("found it"),t.style.removeProperty("cursor"),t.style.setProperty("cursor","none")),n.update(e)},destroy:()=>{n.container.destroy({children:!0})}}}},29161:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundBlur=void 0;const a=r(58687),n=r(6906);t.BackgroundBlur=(e,t,r)=>{const o=new a.Sprite(e.generateTexture({target:t,width:(0,n.get_game_width)(),height:(0,n.get_game_height)()}));o.mask=r,o.filters=new a.BlurFilter;return{container:o,update:()=>{o.texture.source.destroy(),o.texture=e.generateTexture(t)}}}},72412:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MaskFilter=void 0;const a=r(58687);t.MaskFilter=(e,t,r,n)=>{const o=new a.Sprite({texture:e.generateTexture({target:n,frame:new a.Rectangle(t.x,t.y,t.width,t.height)}),x:t.x,y:t.y});o.filters=r;return{container:o,update:()=>{o.texture.source.destroy(),o.texture=e.generateTexture({target:n,frame:new a.Rectangle(t.x,t.y,t.width,t.height)}),o.x=t.x,o.y=t.y}}}},47695:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Scaler=void 0;const a=r(58687);t.Scaler=(e,t)=>{const r=new a.Container({scale:e,children:t});return{container:r,update:e=>{r.scale.set(e)}}}},57994:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpaceView=void 0;const a=r(58687),n=r(6906),o=r(47695),i=r(8605),s=r(63862),l=r(30896);t.SpaceView=(e,t)=>{const r=(0,n.get_game_width)(),c=(0,n.get_game_height)(),u=(0,n.get_game_scale)(),h=(0,i.WorldLayer)(e,r,c,t),d=(0,s.Ui)(e,h.container,t.mouse_x,t.mouse_y),p=new l.PixelateFilter(u),g=(0,o.Scaler)((0,n.get_game_scale)(),[h.container,d.container]);g.container.filters=p;return{container:new a.Container({children:[g.container]}),update:e=>{const t=(0,n.get_game_scale)();h.update(e),d.update(e),g.update(t),p.size=t}}}},22670:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Compass=void 0;const a=r(58687),n=r(6906),o=r(30896);t.Compass=(e,t,r,i,s,l)=>{const c=i,u=(0,n.get_game_height)()-s-2*r,h=(new a.GraphicsPath).circle(r,r,r),d=(new a.GraphicsPath).circle(r,r,t),p=new a.Graphics({x:c,y:u}).path(h).fill({color:"#fff"}),g=new a.Sprite({texture:e.generateTexture(p),x:c,y:u}),_=new o.ColorGradientFilter({type:1,alpha:.86,replace:!0,stops:[{alpha:1,offset:0,color:"#000"},{alpha:1,offset:.85,color:"#000"},{alpha:0,offset:1,color:"#000"}]}),f=new o.ColorGradientFilter({type:1,alpha:.4,replace:!1,stops:[{alpha:0,offset:0,color:"#fff"},{alpha:0,offset:.9,color:"#fff"},{alpha:1,offset:.95,color:"#fff"},{alpha:1,offset:1,color:"#000"}]}),y=new a.Graphics({x:c,y:u}).path(d).fill({color:l});y.filters=f;const b=new a.Graphics({x:c,y:u}).path(d).fill({color:"#fff"});return{render:y,blurMask:b,shadowMask:g,shadowMaskFilter:_,update:()=>{const e=(0,n.get_game_height)()-s-2*r;g.y=e,y.y=e,b.y=e}}}},33346:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Hotbar=void 0;const a=r(30896),n=r(58687),o=r(6906);t.Hotbar=(e,t,r,i,s,l)=>{const c=(0,o.get_game_width)(),u=(0,o.get_game_height)()-i-e,h=c/2-t/2-4*t-5*e,d=(new n.GraphicsPath).lineTo(e-r,0).arc(e-r,r,r,1.5*Math.PI,0*Math.PI).lineTo(e,e).lineTo(r,e).arc(r,e-r,r,.5*Math.PI,1*Math.PI).lineTo(0,0),p=new a.ColorGradientFilter({type:1,alpha:.16,replace:!1,stops:[{alpha:1,offset:0,color:"#fff"},{alpha:0,offset:.9,color:"#fff"}]}),g=Array.from({length:10},((r,a)=>{const o=h+a*(e+t),i=new n.Graphics({x:o,y:u}).path(d).fill({color:s});return i.filters=p,i})),_=Array.from({length:10},((r,a)=>{const o=h+a*(e+t);return new n.Graphics({x:o,y:u}).path(d).fill({color:"#fff"})})),f=new n.Container({children:_});return{container:new n.Container({children:g}),blurMask:f,update:r=>{const a=(0,o.get_game_width)(),n=(0,o.get_game_height)()-i-e,c=a/2-t/2-4*t-5*e;g.forEach(((a,o)=>{const i=c+o*(e+t);a.x=i,a.y=n,o==r?a.clear().path(d).fill({color:l}):a.clear().path(d).fill({color:s})})),_.forEach(((r,a)=>{const o=c+a*(e+t);r.x=o,r.y=n}))}}}},47956:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerPanel=void 0;const a=r(58687);t.PlayerPanel=(e,t,r,n,o,i)=>{const s=(new a.GraphicsPath).lineTo(r-o,0).arc(r-o,o,o,1.5*Math.PI,0*Math.PI,!1).lineTo(r,n).lineTo(o,n).arc(o,n-o,o,.5*Math.PI,1*Math.PI,!1).lineTo(0,0).closePath();return{render:new a.Graphics({x:e,y:t}).path(s).fill({color:i}),blurMask:new a.Graphics({x:e,y:t}).path(s).fill({color:"#fff"})}}},4111:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Pointer=void 0;const a=r(58687),n=r(6906);t.Pointer=(e,t)=>{const r=(0,n.get_game_scale)(),o=a.Texture.from("assets/pointer.png"),i=new a.Sprite({x:e/r,y:t/r,texture:o});return{render:i,update:(e,t)=>{const r=(0,n.get_game_scale)();i.position.set(e/r,t/r)}}}},63862:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Ui=void 0;const a=r(58687),n=r(47956),o=r(29161),i=r(33346),s=r(22670),l=r(4111),c=r(72412);t.Ui=(e,t,r,u)=>{const h="#11263198",d=(0,n.PlayerPanel)(20,20,240,50,16,h),p=(0,i.Hotbar)(30,8,12,12,"#111a2180",h),g=(0,s.Compass)(e,64,76,10,10,"#20103148"),_=(0,c.MaskFilter)(e,g.shadowMask,[g.shadowMaskFilter],t),f=new a.Container({children:[d.blurMask,p.blurMask,g.blurMask]}),y=(0,o.BackgroundBlur)(e,t,f),b=(0,l.Pointer)(r,u);return{container:new a.Container({children:[f,y.container,d.render,p.container,_.container,g.render,b.render]}),update:e=>{p.update(e.hotbar_selection),g.update(),y.update(),_.update(),b.update(e.mouse_x,e.mouse_y)}}}},44764:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Background=void 0;const a=r(58687),n=r(57868),o=r(6906);t.Background=(e,t,r,i)=>{const s=(0,o.parallax)(r,i,960,540,n.game_consts.bg_1_parallax),l=(0,o.parallax)(r,i,960,540,n.game_consts.bg_2_parallax),c=(0,o.parallax)(r,i,960,540,n.game_consts.bg_3_parallax),u={bg0:a.Texture.from("assets/bg_0.png"),bg1:a.Texture.from("assets/bg_1.png"),bg2:a.Texture.from("assets/bg_2.png"),bg3:a.Texture.from("assets/bg_3.png")},h={bg0:new a.TilingSprite({texture:u.bg0,width:e,height:t}),bg1:new a.TilingSprite({texture:u.bg1,width:e,height:t,tilePosition:{x:s.x,y:s.y}}),bg2:new a.TilingSprite({texture:u.bg2,width:e,height:t,tilePosition:{x:l.x,y:l.y}}),bg3:new a.TilingSprite({texture:u.bg3,width:e,height:t,tilePosition:{x:c.x,y:c.y}})};return{container:new a.Container({children:[h.bg0,h.bg1,h.bg2,h.bg3]}),update:(e,t,r,a)=>{const i=(0,o.parallax)(r,a,960,540,n.game_consts.bg_1_parallax),s=(0,o.parallax)(r,a,960,540,n.game_consts.bg_2_parallax),l=(0,o.parallax)(r,a,960,540,n.game_consts.bg_3_parallax);h.bg1.tilePosition.x=i.x,h.bg1.tilePosition.y=i.y,h.bg2.tilePosition.x=s.x,h.bg2.tilePosition.y=s.y,h.bg3.tilePosition.x=l.x,h.bg3.tilePosition.y=l.y,h.bg0.width=e,h.bg0.height=t,h.bg1.width=e,h.bg1.height=t,h.bg2.width=e,h.bg2.height=t,h.bg3.width=e,h.bg3.height=t}}}},27159:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Player=void 0;const a=r(58687),n=r(6906);t.Player=(e,t,r)=>{const o=a.Texture.from("assets/player.png"),i=new a.Sprite({texture:o,anchor:.5,x:e/2,y:t/2,rotation:-(r-1.5*Math.PI)});return{container:i,update:e=>{const t=(0,n.get_game_width)(),r=(0,n.get_game_height)();i.rotation=-(e-1.5*Math.PI),i.x=t/2,i.y=r/2}}}},8605:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.WorldLayer=void 0;const a=r(58687),n=r(44764),o=r(27159),i=r(6906);t.WorldLayer=(e,t,r,s)=>{const l=(0,n.Background)(t,r,s.player.x,s.player.y),c=(0,o.Player)(t,r,s.player.direction);return{container:new a.Container({children:[l.container,c.container]}),update:e=>{const t=(0,i.get_game_width)(),r=(0,i.get_game_height)();l.update(t,r,e.player.x,e.player.y),c.update(e.player.direction)}}}},6906:function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.parallax=t.get_game_scale=t.get_game_height=t.get_game_width=void 0;const a=r(57868);function n(){return window.innerWidth>a.game_consts.max_pixel_width?Math.ceil(window.innerWidth/a.game_consts.max_pixel_width):1}t.get_game_width=function(){return Math.floor(window.innerWidth/n())},t.get_game_height=function(){return Math.floor(window.innerHeight/n())},t.get_game_scale=n,t.parallax=function(e,t,r,a,n){return{x:e/n%r,y:t/n%a}}},11307:function(e,t,r){r.r(t)}},r={};function a(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,a),o.exports}a.m=t,e=[],a.O=function(t,r,n,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],o=e[u][2];for(var s=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[l])}))?r.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,n,o]},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(l)var u=l(a)}for(t&&t(r);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var n=a.O(void 0,[896],(function(){return a(29820)}));n=a.O(n)}();